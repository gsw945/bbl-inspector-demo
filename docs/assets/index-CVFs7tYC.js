const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/debug-CakKRzQ5.js","assets/babylonjs-core-CjnvD5OB.js","assets/babylonjs-inspector-cieKXymm.js","assets/babylonjs-gui-BCrR2CqB.js"])))=>i.map(i=>d[i]);
var m=Object.defineProperty;var y=(s,e,t)=>e in s?m(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>y(s,typeof e!="symbol"?e+"":e,t);import{a$ as b,cG as v,av as T,T as c,cK as g,q as w,c as I,h as E,cL as C,a as d}from"./babylonjs-core-CjnvD5OB.js";import{A as L,B as p,I as a}from"./babylonjs-gui-BCrR2CqB.js";import{H as x}from"./babylonjs-havok-C-hUNQGI.js";import{G as O}from"./lil-gui-BjijGF_O.js";import{c as P}from"./neodrag-BCRXwOkg.js";import{s as u}from"./screenfull-DmVOzVZz.js";import{w as _}from"./simple-notify-CxyQiKTK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function A(s="dataGUI"){const e=new O;var t=document.getElementById(s);t&&t.remove(),e.domElement.id=s;const n=document.createElement("div");n.className="dragger",n.style.display="inline-block",n.style.position="absolute",n.style.right="0",n.style.top="0",n.style.width="100px",n.style.textAlign="center",n.style.border="1px solid #999",n.style.cursor="move",n.innerText="MOVE",e.domElement.appendChild(n);const o=e.domElement.querySelector(".title").offsetHeight;return n.style.height=`${o}px`,n.style.lineHeight=`${o}px`,new P(e.domElement,{axis:"both",bounds:{top:10,left:10,bottom:10,right:10},legacyTranslate:!0,gpuAcceleration:!0,applyUserSelectHack:!0,ignoreMultitouch:!1}).updateOptions({defaultPosition:{x:100,y:100},handle:n}),e.domElement.style.transform="translate3d(5px, 10px, 0px)",e.close(),e}function N(s){if(s.debugLayer&&typeof s.debugLayer.isVisible=="function"){const e=s.debugLayer.isVisible();return e===void 0?!1:e}return!1}function f(s,e,t){if(t){s.debugLayer.show({overlay:!0,showExplorer:!0,showInspector:!0,embedMode:!1,handleResize:!0,enablePopup:!0,enableClose:!0,gizmoCamera:e});const n=document.getElementById("scene-explorer-host");n&&(n.style.zIndex="101");const i=document.getElementById("inspector-host");i&&(i.style.zIndex="101")}else s.debugLayer.hide()}function R(s,e,t,n=!1){const i=e.addFolder("Debug");let o=!1;i.add({enable:N(s)},"enable").onChange(r=>{if(o){f(s,t,r);return}b(()=>import("./debug-CakKRzQ5.js"),__vite__mapDeps([0,1,2,3])).then(()=>{o=!0,f(s,t,r)}).catch(h=>{console.warn(h)})}),n&&M(i)}function M(s){const e=s.add({toggle:!1},"toggle").name("fullscreen");let t=!1;e.onChange(()=>{if(t){t=!1;return}u.isEnabled?u.toggle(document.body,{navigationUI:"hide"}):G("FullScreen is not enabled")}),u.on("change",()=>{t=!0,e.setValue(u.isFullscreen),setTimeout(()=>{t=!1},80)})}function G(s){return new _({status:"info",title:void 0,text:s,effect:"fade",speed:300,customClass:void 0,customIcon:void 0,showIcon:!0,showCloseButton:!1,autoclose:!0,autotimeout:2e3,notificationsGap:20,notificationsPadding:20,type:"outline",position:"top x-center"})}const V="/textures/ground.jpg",S="/svgs/typescript.svg",D="/svgs/vite.svg";class H{constructor(e){l(this,"canvas");l(this,"engine");l(this,"scene");l(this,"gui");this.canvas=e,this.engine=new v(e,!0),this.engine.enableOfflineSupport=!0,this.scene=new T(this.engine,{}),this.scene.collisionsEnabled=!0}async run(){this.scene.createDefaultCameraOrLight(!0,!0,!0);const e=this.scene.activeCamera;e.alpha=c.ToRadians(0),e.beta=c.ToRadians(0),e.radius=20,e.fov=c.ToRadians(110),this.setupGround(),this.setupPhysics(),this.setupUI(),this.setupMeshes(),this.setupDebug(this.scene.activeCamera)}setupGround(){const e=g.CreateGround("ground",{width:36,height:36,subdivisions:2},this.scene);e.checkCollisions=!0;const t=new w("groundMaterial",this.scene);return t.diffuseTexture=new I(V,this.scene),t.diffuseTexture.scale(2),t.diffuseColor=new E(1,1,1),e.material=t,e}async setupPhysics(){const e=await x(),t=new C(!0,e),n=new d(0,-9.8,0);this.scene.enablePhysics(n,t),window.addEventListener("resize",this.onWindowResize.bind(this)),this.engine.runRenderLoop(this.renderLoop.bind(this))}setupUI(){const e=L.CreateFullscreenUI("UI"),t=p.CreateImageOnlyButton("button1",S);t.image&&(t.image.stretch=a.STRETCH_UNIFORM),t.width="64px",t.height="64px",t.color="transparent",t.delegatePickingToChildren=!0,t.onPointerUpObservable.add(()=>{t.isVisible=!1,n.isVisible=!0}),t.horizontalAlignment=a.HORIZONTAL_ALIGNMENT_CENTER,t.verticalAlignment=a.VERTICAL_ALIGNMENT_TOP,e.addControl(t);const n=p.CreateImageOnlyButton("button2",D);return n.image&&(n.image.stretch=a.STRETCH_UNIFORM),n.isVisible=!1,n.width="64px",n.height="64px",n.color="transparent",n.delegatePickingToChildren=!0,n.onPointerUpObservable.add(()=>{n.isVisible=!1,t.isVisible=!0}),n.horizontalAlignment=a.HORIZONTAL_ALIGNMENT_CENTER,n.verticalAlignment=a.VERTICAL_ALIGNMENT_TOP,e.addControl(n),e}setupMeshes(){var e=g.CreateSphere("sphere",{diameter:2,segments:32},this.scene);e.position=new d(1,6,8),e.scaling=new d(2,2,2)}setupDebug(e){const t=A();R(this.scene,t,e,!0),this.gui=t}onWindowResize(){this.engine.resize()}renderLoop(){this.scene.render()}}async function U(s){await new H(s).run()}function z(s){s.style.width="100%",s.style.height="auto",U(s)}document.querySelector("#app").innerHTML='<canvas id="babylon">your browser does not support canvas</canvas>';z(document.querySelector("#babylon"));
