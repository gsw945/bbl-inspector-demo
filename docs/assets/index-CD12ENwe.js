const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/debug-eIvdOHOf.js","assets/babylonjs-core-B6ZQuDGO.js","assets/babylonjs-inspector-BXUlSqNa.js","assets/babylonjs-gui-DapDBy5b.js"])))=>i.map(i=>d[i]);
var m=Object.defineProperty;var y=(n,e,t)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n,e,t)=>y(n,typeof e!="symbol"?e+"":e,t);import{a$ as b,cG as v,av as T,T as c,cK as g,q as w,c as I,h as E,cL as C,a as d}from"./babylonjs-core-B6ZQuDGO.js";import{A as L,B as p,I as a}from"./babylonjs-gui-DapDBy5b.js";import{H as x}from"./babylonjs-havok-Bf6vRV2Y.js";import{G as O}from"./lil-gui-BjijGF_O.js";import{c as P}from"./neodrag-BCRXwOkg.js";import{s as u}from"./screenfull-DmVOzVZz.js";import{w as _}from"./simple-notify-CxyQiKTK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function A(n="dataGUI"){const e=new O;var t=document.getElementById(n);t&&t.remove(),e.domElement.id=n;const s=document.createElement("div");s.className="dragger",s.style.display="inline-block",s.style.position="absolute",s.style.right="0",s.style.top="0",s.style.width="100px",s.style.textAlign="center",s.style.border="1px solid #999",s.style.cursor="move",s.innerText="MOVE",e.domElement.appendChild(s);const o=e.domElement.querySelector(".title").offsetHeight;return s.style.height=`${o}px`,s.style.lineHeight=`${o}px`,new P(e.domElement,{axis:"both",bounds:{top:10,left:10,bottom:10,right:10},legacyTranslate:!0,gpuAcceleration:!0,applyUserSelectHack:!0,ignoreMultitouch:!1}).updateOptions({defaultPosition:{x:100,y:100},handle:s}),e.domElement.style.transform="translate3d(5px, 10px, 0px)",e.close(),e}function N(n){if(n.debugLayer&&typeof n.debugLayer.isVisible=="function"){const e=n.debugLayer.isVisible();return e===void 0?!1:e}return!1}function f(n,e,t){if(t){n.debugLayer.show({overlay:!0,showExplorer:!0,showInspector:!0,embedMode:!1,handleResize:!0,enablePopup:!0,enableClose:!0,gizmoCamera:e});const s=document.getElementById("scene-explorer-host");s&&(s.style.zIndex="101");const i=document.getElementById("inspector-host");i&&(i.style.zIndex="101")}else n.debugLayer.hide()}function R(n,e,t,s=!1){const i=e.addFolder("Debug");let o=!1;i.add({enable:N(n)},"enable").onChange(r=>{if(o){f(n,t,r);return}b(()=>import("./debug-eIvdOHOf.js"),__vite__mapDeps([0,1,2,3])).then(()=>{o=!0,f(n,t,r)}).catch(h=>{console.warn(h)})}),s&&M(i)}function M(n){const e=n.add({toggle:!1},"toggle").name("fullscreen");let t=!1;e.onChange(()=>{if(t){t=!1;return}u.isEnabled?u.toggle(document.body,{navigationUI:"hide"}):G("FullScreen is not enabled")}),u.on("change",()=>{t=!0,e.setValue(u.isFullscreen),setTimeout(()=>{t=!1},80)})}function G(n){return new _({status:"info",title:void 0,text:n,effect:"fade",speed:300,customClass:void 0,customIcon:void 0,showIcon:!0,showCloseButton:!1,autoclose:!0,autotimeout:2e3,notificationsGap:20,notificationsPadding:20,type:"outline",position:"top x-center"})}const V="/docs/textures/ground.jpg",S="/docs/svgs/typescript.svg",D="/docs/svgs/vite.svg";class H{constructor(e){l(this,"canvas");l(this,"engine");l(this,"scene");l(this,"gui");this.canvas=e,this.engine=new v(e,!0),this.engine.enableOfflineSupport=!0,this.scene=new T(this.engine,{}),this.scene.collisionsEnabled=!0}async run(){this.scene.createDefaultCameraOrLight(!0,!0,!0);const e=this.scene.activeCamera;e.alpha=c.ToRadians(0),e.beta=c.ToRadians(0),e.radius=20,e.fov=c.ToRadians(110),this.setupGround(),this.setupPhysics(),this.setupUI(),this.setupMeshes(),this.setupDebug(this.scene.activeCamera)}setupGround(){const e=g.CreateGround("ground",{width:36,height:36,subdivisions:2},this.scene);e.checkCollisions=!0;const t=new w("groundMaterial",this.scene);return t.diffuseTexture=new I(V,this.scene),t.diffuseTexture.scale(2),t.diffuseColor=new E(1,1,1),e.material=t,e}async setupPhysics(){const e=await x(),t=new C(!0,e),s=new d(0,-9.8,0);this.scene.enablePhysics(s,t),window.addEventListener("resize",this.onWindowResize.bind(this)),this.engine.runRenderLoop(this.renderLoop.bind(this))}setupUI(){const e=L.CreateFullscreenUI("UI"),t=p.CreateImageOnlyButton("button1",S);t.image&&(t.image.stretch=a.STRETCH_UNIFORM),t.width="64px",t.height="64px",t.color="transparent",t.delegatePickingToChildren=!0,t.onPointerUpObservable.add(()=>{t.isVisible=!1,s.isVisible=!0}),t.horizontalAlignment=a.HORIZONTAL_ALIGNMENT_CENTER,t.verticalAlignment=a.VERTICAL_ALIGNMENT_TOP,e.addControl(t);const s=p.CreateImageOnlyButton("button2",D);return s.image&&(s.image.stretch=a.STRETCH_UNIFORM),s.isVisible=!1,s.width="64px",s.height="64px",s.color="transparent",s.delegatePickingToChildren=!0,s.onPointerUpObservable.add(()=>{s.isVisible=!1,t.isVisible=!0}),s.horizontalAlignment=a.HORIZONTAL_ALIGNMENT_CENTER,s.verticalAlignment=a.VERTICAL_ALIGNMENT_TOP,e.addControl(s),e}setupMeshes(){var e=g.CreateSphere("sphere",{diameter:2,segments:32},this.scene);e.position=new d(1,6,8),e.scaling=new d(2,2,2)}setupDebug(e){const t=A();R(this.scene,t,e,!0),this.gui=t}onWindowResize(){this.engine.resize()}renderLoop(){this.scene.render()}}async function U(n){await new H(n).run()}function z(n){n.style.width="100%",n.style.height="auto",U(n)}document.querySelector("#app").innerHTML='<canvas id="babylon">your browser does not support canvas</canvas>';z(document.querySelector("#babylon"));
